<div class="kb-profile" ng-init="profCtrl.getUser()">
  <div class="kb-prof-header">
    <img src="{{profCtrl.user.image.imageUrl}}">
    <div class="kb-header-info">
      <h2>{{profCtrl.user.firstName}} {{profCtrl.user.lastName}}</h2>
      <h3>{{profCtrl.user.position}}</h3>
      <h4>{{profCtrl.user.company}}</h4>
      <h4>{{profCtrl.user.locationCity}}, {{profCtrl.user.locationState}}, {{profCtrl.user.locationCountry}}</h4>
      <h4>{{profCtrl.user.memberSince}}</h4>
      <button type="button" ng-if="profCtrl.ownProfile" ng-show="!profCtrl.editing" ng-click="profCtrl.editing=true"> Edit Profile </button>
    </div>
  </div>
  <h4>Experience</h4>
  <ul>
    <li ng-repeat="exp in profCtrl.experience">
      <ul>
        <li>{{exp.title}}</li>
        <li>{{exp.company}}</li>
        <li>From {{exp.start}} to {{exp.finish}}</li>
        <li>{{exp.description}}</li>
        <button ng-click="profCtrl.removeExperience({{exp}})" ng-show="profCtrl.editing">Remove Experience</button>
      </ul>
    </li>
  </ul>
  <button ng-click="profCtrl.editingExperience=true" ng-show="profCtrl.editing"> Add Experience </button>
  <kb-experience-form save="profCtrl.addExperience(user)" ng-show="profCtrl.editingExperience"></kb-experience-form>
  <h4>Skills</h4>
  <ul>
    <li ng-repeat="skill in profCtrl.skills">
      <ul>
        <li>{{skill.content}} <button ng-click="profCtrl.removeSkill({{skill}})" ng-show="profCtrl.editing">x</button></li>
      </ul>
    </li>
  </ul>
  <kb-skill-form save="profCtrl.addSkill(skill)" ng-show="profCtrl.editing"></kb-skill-form>
  <h4>Education</h4>
  <ul>
    <li ng-repeat="edu in profCtrl.education">
      <ul>
        <li>{{edu.degree}}</li>
        <li>{{edu.major}}</li>
        <li>{{edu.school}}</li>
        <li>From {{edu.start}} to {{edu.finish}}</li>
        <li>{{edu.description}}</li>
        <button ng-click="profCtrl.removeEducation({{edu}})" ng-show="profCtrl.editing"> Remove Education </button>
      </ul>
    </li>
  </ul>
  <kb-education-form save="profCtrl.addEducation(education)" ng-show="profCtrl.editing"></kb-education-form>
</div>
